# Analysis-of-Protest-Banners-Project
Analysis of Protest Banners
Kenzo Nagasaki
Functions for image extraction
image.png

image.png


[ ]
!pip install gdown pillow scikit-image numpy --quiet

[ ]
import gdown

from google.colab import files

import zipfile
import os
from PIL import Image

import urllib.request
from bs4 import BeautifulSoup
import re

[ ]
# Función para descargar archivo ZIP desde Google Drive
def download_zip_from_drive(url_insert, output):
    url = f'{url_insert}'
    gdown.download(url, output, quiet=False, fuzzy=True)
    return output

[ ]
# Función para subir archivo ZIP desde la carpeta de Colab
def upload_zip_file():
    uploaded = files.upload()
    for filename in uploaded.keys():
        return filename

[ ]
# Función para descomprimir el archivo ZIP y cargar imágenes
def unzip_file(file_path, extract_to='.'):
    with zipfile.ZipFile(file_path, 'r') as zip_ref:
        zip_ref.extractall(extract_to)

[ ]
def load_images_from_directory(directory):
    image_files = [os.path.join(directory, f) for f in os.listdir(directory) if f.endswith(('.png', '.jpg', '.jpeg'))]
    images = [Image.open(img_path) for img_path in image_files]
    return images

[ ]
# Función para extraer las primeras 50 fotos de una página web
def extract_images_from_webpage(url, max_images=100):
    html = urllib.request.urlopen(url).read()
    soup = BeautifulSoup(html, 'html.parser')
    images = soup.find_all('img')
    image_urls = []

    for img in images:
        img_url = img.get('src')
        if img_url and re.match(r'^https?://', img_url):
            image_urls.append(img_url)
            if len(image_urls) >= max_images:
                break

    return image_urls

[ ]
from skimage import io as skimage_io, transform
from io import BytesIO
import numpy as np
from PIL import Image

# Función para preprocesar la imagen
def preprocess_image(image, target_size=(224, 224)):

    # Convertir la imagen a array de numpy
    image_np = np.array(image)

    # Redimensionar la imagen
    image_resized = transform.resize(image_np, target_size, anti_aliasing=True)

    # Convertir de vuelta a PIL Image
    image_resized = Image.fromarray((image_resized * 255).astype(np.uint8))

    return image_resized
Lectura de Imagenes
image.png

image.png


[ ]
!pip install torch torchvision transformers accelerate --quiet
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 314.1/314.1 kB 8.6 MB/s eta 0:00:00
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 21.3/21.3 MB 65.6 MB/s eta 0:00:00

[ ]
import torch
import accelerate
from transformers import AutoModelForCausalLM, AutoProcessor, AutoConfig

model_id = "microsoft/Phi-3-vision-128k-instruct"

# Uso de precisión mixta
torch_dtype = torch.float16

model = AutoModelForCausalLM.from_pretrained(model_id,
                                             cache_dir="/content/my_models/phi_3_vision",
                                             device_map="cuda",
                                             trust_remote_code=True,
                                             torch_dtype=torch_dtype,
                                             _attn_implementation="eager")
processor = AutoProcessor.from_pretrained(model_id, trust_remote_code=True)


[ ]
import requests
import matplotlib.pyplot as plt

[ ]
def show_image(image): # Changed input from image_path to image
    plt.imshow(image)
    plt.axis('off')
    plt.show()

[ ]
# Función para generar etiquetas para las imágenes
def generate_labels_for_images(images, model, processor):
    labels = []
    for image in images:
        show_image(image)

        prompt = """<|user|>\nEres un modelo de IA especializado en analizar imágenes relacionadas con protestas. Por favor, analiza la imagen basándote en su contenido y características. Utiliza los criterios proporcionados para evaluar y etiquetar cada aspecto.

  Criterios:
  Contenido de las Pancartas: Identifica el texto en las pancartas o carteles, incluso si la redacción no es clara. Si no encuentras un sentido claro en la frase, trata de predecir lo que podría estar diciendo basándote en el contexto. Solo entrega el texto de la pancarta.
  Símbolos: Identifica símbolos como banderas, logotipos o iconos específicos.
  Elementos Adicionales: Describe cualquier otro elemento relevante (por ejemplo, multitudes, presencia policial).
  Descripción General: Proporciona una descripción general de la escena de la protesta.
  Por favor, analiza la imagen de la protesta proporcionada y completa unicamente el siguiente esquema JSON que se encuentra entre los apostrofos con tus observaciones y evaluaciones:

  '{
    "contenido_pancartas": "Tu evaluación aquí",
    "simbolos": "Tu evaluación aquí",
    "elementos_adicionales": "Tu evaluación aquí",
    "descripcion_general": "Tu evaluación aquí",
  }'

  <|image_1|>\n<|end|>\n<|assistant|>\n
  """

        inputs = processor(prompt, [image], return_tensors="pt").to("cuda")
        generation_args = {
              "max_new_tokens": 170,
              "temperature": 0.5,
              "top_k": 30,
              "top_p": 0.9,
              "do_sample": True,
        }
        generate_ids = model.generate(**inputs, eos_token_id=processor.tokenizer.eos_token_id, **generation_args)
        generate_ids = generate_ids[:, inputs['input_ids'].shape[1]:]
        response = processor.batch_decode(generate_ids, skip_special_tokens=True, clean_up_tokenization_spaces=False)[0]

        print(response)
        labels.append(response.strip())
    return labels

[ ]
%%time
# Seleccionar método de carga de datos
method = input("Selecciona el método de carga de datos (1: Google Drive, 2: Carpeta Colab, 3: Página web): ")

if method == '1':
    file_id = input("Introduce el ID del archivo de Google Drive: ")
    zip_file_path = download_zip_from_drive(file_id, 'images.zip')
    unzip_file(zip_file_path, 'images')
    images = load_images_from_directory('images')
elif method == '2':
    zip_file_path = upload_zip_file()
    unzip_file(zip_file_path, 'images')
    images = load_images_from_directory('images')
elif method == '3':
    url = input("Introduce la URL de la página web: ")
    image_urls = extract_images_from_webpage(url)
    images = [Image.open(BytesIO(requests.get(img_url).content)) for img_url in image_urls]

# Preprocesar y generar etiquetas para las imágenes
preprocessed_images = [preprocess_image(image) for image in images]
labels = generate_labels_for_images(preprocessed_images, model, processor)

print(labels)


[ ]
import json
import pandas as pd

[ ]
# Unir todas las partes en un solo texto
full_text = ' '.join(labels)

# Dividir y limpiar las partes correctamente
cleaned_jsons = []
current_json = ""

for line in full_text.split(' '):
    if line.startswith("{") and current_json:
        cleaned_jsons.append(current_json.strip())
        current_json = line
    else:
        current_json += " " + line

if current_json:
    cleaned_jsons.append(current_json.strip())

# Validar y corregir JSONs
valid_jsons = []
for json_str in cleaned_jsons:
    try:
        # Intentar cargar el JSON
        json_obj = json.loads(json_str)
        valid_jsons.append(json_obj)
    except json.JSONDecodeError:
        # Intentar corregir JSON manualmente si es necesario
        fixed_json_str = json_str.replace("```json", "").replace("\n", " ").replace("'", '"')
        fixed_json_str = fixed_json_str + '" }'  # Asumir el cierre del JSON si está incompleto
        try:
            json_obj = json.loads(fixed_json_str)
            valid_jsons.append(json_obj)
        except json.JSONDecodeError as e:
            print(f"Error decoding fixed JSON: {e}")

# Crear un DataFrame de pandas
df = pd.DataFrame(valid_jsons)

# Mostrar el DataFrame
print(df.to_string())

Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 579 (char 578)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 571 (char 570)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 379 (char 378)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 305 (char 304)
Error decoding fixed JSON: Extra data: line 1 column 359 (char 358)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 430 (char 429)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 255 (char 254)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 47 (char 46)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 95 (char 94)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 287 (char 286)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 330 (char 329)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 381 (char 380)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 560 (char 559)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 308 (char 307)
Error decoding fixed JSON: Extra data: line 1 column 495 (char 494)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 264 (char 263)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 406 (char 405)
Error decoding fixed JSON: Extra data: line 1 column 298 (char 297)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 388 (char 387)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 67 (char 66)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 76 (char 75)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 331 (char 330)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 312 (char 311)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 450 (char 449)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 74 (char 73)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 242 (char 241)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 452 (char 451)
Error decoding fixed JSON: Extra data: line 1 column 520 (char 519)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 359 (char 358)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 156 (char 155)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 274 (char 273)
Error decoding fixed JSON: Extra data: line 1 column 385 (char 384)
Error decoding fixed JSON: Extra data: line 1 column 380 (char 379)
Error decoding fixed JSON: Extra data: line 1 column 401 (char 400)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 231 (char 230)
Error decoding fixed JSON: Extra data: line 1 column 407 (char 406)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 450 (char 449)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 526 (char 525)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 472 (char 471)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 457 (char 456)
Error decoding fixed JSON: Extra data: line 1 column 326 (char 325)
Error decoding fixed JSON: Extra data: line 1 column 353 (char 352)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 326 (char 325)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 351 (char 350)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 452 (char 451)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 369 (char 368)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 392 (char 391)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 116 (char 115)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 520 (char 519)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 99 (char 98)
Error decoding fixed JSON: Extra data: line 1 column 412 (char 411)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 85 (char 84)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 445 (char 444)
Error decoding fixed JSON: Extra data: line 1 column 367 (char 366)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 132 (char 131)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 293 (char 292)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 367 (char 366)
Error decoding fixed JSON: Extra data: line 1 column 271 (char 270)
Error decoding fixed JSON: Extra data: line 1 column 252 (char 251)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 430 (char 429)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 418 (char 417)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 246 (char 245)
Error decoding fixed JSON: Extra data: line 1 column 457 (char 456)
Error decoding fixed JSON: Extra data: line 1 column 288 (char 287)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 75 (char 74)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 362 (char 361)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 47 (char 46)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 482 (char 481)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 217 (char 216)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 310 (char 309)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 395 (char 394)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 395 (char 394)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 59 (char 58)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 268 (char 267)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 235 (char 234)
Error decoding fixed JSON: Extra data: line 1 column 323 (char 322)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 43 (char 42)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 489 (char 488)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 464 (char 463)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 383 (char 382)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 97 (char 96)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 354 (char 353)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 431 (char 430)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 343 (char 342)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 289 (char 288)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 355 (char 354)
Error decoding fixed JSON: Expecting ',' delimiter: line 1 column 240 (char 239)
Error decoding fixed JSON: Extra data: line 1 column 378 (char 377)
                                                                                                                                                                                                                                                           contenido_pancartas                                                                                                                                                                                                                                                                                                                                                                                                                   simbolos                                                                                                                                              elementos_adicionales                                                                                                                                                                                                                                                                                                                   descripcion_general
0                                                                                                                                                                                                                                                              Hile no deserto                                                                                                                                                                                                                                                                                                                                                                                                        Banderas y banderas                                                                                                                                         Multitudes de protestantes                                                                                                                                                                                                                         Protesta con banderas y banners en contra de la violencia, en un lugar público con multitud de participantes.
1                                                                                                                                                                                                                                   Hismaa Jyoti Geenarama Meer elo Presidente                                                                                                                                                                                                                                                                                                                                                                         Símbolos de protesta incluyen banderas y carteles.                                                                                           Una multitud de personas está presente, algunos con banderas y carteles.                                                                                                                                                                                       La imagen muestra una protesta con una variedad de pancartas y elementos de banderas. Las personas están caminando y mostrando sus disidencias.
2                                                                                                                                                                                                                                      Todo niño tiene derecho a un país digno                                                                                                                                                                                                                                                                                                                                                                      No se identifican símbolos específicos en el panalte.                                                                                                                Multitudes de personas participando en la protesta.                                                                                                                                                                                                                                   Una imagen de una protesta con un participante promoviendo el derecho de los niños a un país digno.
3                                                                                                                                                                                                                                                  Bienvenido a CORA del Norte                                                                                                                                                                                                                                                                                                                                                                                                           No identificados                                                                                                                                     Multitudes, presencia policial                                                                                                                                                        Una persona lleva un cartel que dice 'Bienvenido a CORA del Norte', mientras que otro personaje está en la multitud. Existe presencia de banderas y un símbolo en la pancarta.
4                                                                                                                                                                                                                                     monte a la madre mama meter HUASO CULIAR                                                                                                                                                                                                                                                                                                                                                                                            bandera con un cráneo y cuernos                                                                                                                     multitudes de personas con banderas y carteles                                     La imagen muestra una protesta con varios participantes. El centro de atención es un cartel con un cráneo y cuernos, rodeado de banderas y carteles que parecen estar en apoyo de los derechos de las mujeres. El clima es agradable y los edificios en el fondo sugirieron una ubicación urbana.
5                                                                                                                                                                                                               Quiero que te evalúen por mi capacidad de pared de mi espíritu                                                                                                                                                                                                                                                                                                                                                                                           No parel de pared de mi espíritu                                                                                                                         Multitudes de personas, presencia policial                                                                                                  Una imagen de una protesta con un grupo de personas mostrando carteles y banderas, incluyendo un cartel que dice 'Quiero que te evalúen por mi capacidad de pared de mi espíritu' y otro que dice 'No parel de pared de mi espíritu'
6                                                                                                                                                                                                                            Con la llama de la memoria encenderemos el futuro                                                                                                                                                                                                                                                                                                                                                                                                         Una llama de fuego                                                                           No se pueden identificar elementos adicionales con seguridad en la imagen proporcionada.                                                                                 La imagen muestra una pared con una pintura que incluye una llama de fuego y texto que parece estar haciendo una declaración o promesa. El texto y la llama de fuego parecen estar relacionados, posiblemente en un contexto de protesta o activismo.
7                                                                                                                                                                                                                                            LOS IDEALES SON A PRUEBA DE BALAS                                                                                                                                                                                                                                                                                                                                                                                                       CARABINEROS DE CHILE                                                                                                                                                         Multitudes                                                                                                                                                                            Un grupo de manifestantes en un evento de protesta, con un policía de riot gear detrás de ellos, y un cartel que dice 'LOS IDEALES SON A PRUEBA DE BALAS'.
8                                                                                                                                                                                                        Aun y del despertar los idórmidos nihgorantes elpjeblo sigue adelante                                                                                                                                                                                                                                                                                                                                                                                                  [bandera, logotipo Canon]                                                        Multitudes de personas con banderas y flags, posible presencia de policiales en la periferia de la protesta                                                                                                                                                                                                                                                     Protesta con banderas y carteles contra Canon, multitudes de personas en la calle
9                                                                                                                                                                                                                                                       PATRONA SIN REPRESORS!                                                                                                                                                                                                                                                                                                                                                                                                                    Ninguno                                                                                              Multitudes de personas, algunos con armas, en un ambiente de protesta                                                                                                                                                                                    Una imagen de una protesta con multitudes de personas, algunos de los cuales parecen estar armados, y un cartel que dice 'PATRONA SIN REPRESORS!'.
10                                                                                                                                                                                                 Pensaste que dominar al pueblo sería fácil? Pero no quiero la fácil soy yo!                                                                                                                                                                                                                                                                                                                                                      No se identificaron símbolos específicos en el párrafo proporcionado.                                                                                                       Multitudes de personas estudiando el párrafo de la pancarta.                                                                                                                                       La imagen muestra una protesta con una persona prominente en la multitud, sujetando una pancarta que parece estar haciendo un llamado a la acción o una declaración de empoderamiento personal.
11                                                                                                                                                                                                                                         NO ESTAMOS TODAS FALTAN LAS MUERTAS                                                                                                                                                                                                                                                                                                                                                                                              Banderas y carteles con texto                                                                                Multitudes de personas participando en la protesta, posible presencia de policiales                                                                                                                                                                                          Protesta con multitud de participantes, incluyendo banderas y carteles con texto que parece estar pediendo la revuelta o lamentando muertes.
12                                                                                                                                                                                                                              Abolición del Estado y Abolición de la Policia                                                                                                                                                                                                                                                                                                                                                         No se identificaron símbolos específicos en el fondo de la imagen.                                                    La imagen muestra pancartas con texto y una imagen en blanco y negro. El fondo muestra texto en varios colores.                                                                                                                            La imagen muestra una escena de protesta con pancartas que piden la abolición del Estado y la Policia. El fondo es iluminado por la luz natural y está rodeado de texto en varios colores, posiblemente añ
13                                                                                                                               Aquí está el contenido de las pancartas, que parece estar pidiendo no a la AFP. El texto es claro y no necesita interpretaciones adicionales.                                                                                                                                                                                                                                                                                                                                                  No se pueden identificar símbolos específicos en la imagen proporcionada.                                                                            La imagen muestra una multitud de personas, posiblemente participantes en una protesta.                                                                                                                                                               La imagen muestra una protesta con varias personas, incluyendo al menos a una mujer que sostiene un cartel. El ambiente parece ser un evento público en un lugar urbano
14                                                                                                                                                                                                                                                        MAS UNIDOS QUE NUNCA                                                                                                                                                                                                                                                                                                                                                                                                   [Cruz Verde, Cruz Verde]                                                                                                                                             Multitudes de personas                                                                                                                                                                                                                          Una imagen de una protesta con multitudes de personas, incluyendo un cartel que dice 'MAS UNIDOS QUE NUNCA'.
15                                                                                                                                                                                                                                                                      NO CAE                                                                                                                                                                                                                                                                                                                                                                               No symbols are clearly visible in the image.                                                                                                           No additional elements are clearly visible in the image.                                                                                                                                                                              The image shows a wall with graffiti that reads 'NO CAE'. The graffiti is large and prominent, and there are no other clear elements or symbols present.
16                                                                                                                                                                                                             POR MI Y OTORDIAS MIS COMPANERAS TOTOS LOS MACHOS A LA HOGUERA!                                                                                                                                                                                                                                                                                                                                                                     No se identificaron símbolos específicos en el cartel.                                                                                                                Multitudes de personas participando en la protesta.                                                                                        Una imagen de una protesta en la calle con varias personas caminando o paradas, llevando un cartel que parece estar pediendo de manera directa que se hagan cosas específicas para las compañeras de la protestante. El entorno parece ser una
17                                                                                                                                                                                                                                                      ASAMBLEA Constituyente                                                                                                                                                                                                                                                                                                                                                             Un lockdown, lo que parece ser un símbolo de censura o control                                                                                                                                     Multitudes, presencia policial                                                                                                                                                                   Escena de protesta con un cartel que dice 'ASAMBLEA Constituyente' y un lockdown en la parte superior. El cartel está pegado a una pared y hay grafiti en el fondo.
18                                                                                                                                                             Cambiar el mundo, amigo santo que desidera nuestra justicia, x mis estudiantes, chile desperto, #documentalidad                                                                                                                                                                                                                                                                                                                                   Un símbolo de un santo con un crucifijo en su mano y otro santo con un cáliz en su mano.                                                    Una multitud de personas, algunos de los cuales parecen estar en movimiento, y un poste de luz en la distancia.                                                                                                                                                                                                                                     Una imagen de una protesta con una pancarta que parece estar haciendo una declaración de un deseo
19                                                                                                                                                                                        LAS AFP con este gobierno con este congreso con estas alcaldes con estos actividades                                                                                                                                                                                                                                                                                                                                                      No se identificaron símbolos específicos en el párrafo proporcionado.                                                                        Una multitud de personas participando en una protesta, con un pilar de carteles y banderas.                                                                                                                                     Una imagen de una protesta en la ciudad con una multitud de personas y carteles. El cartel principal dice 'LAS AFP con este gobierno con este congreso con estas alcaldes con estos actividades'.
20                                                                                                                                                                                                                                                      LA EDUCACION NO ES UNO                                                                                                                                                                                                                                                                                                                                                                                                     No simbolos observados                                                                                                                 Multitudes de personas participando en la protesta                                                                                                                             Una imagen de una protesta en la que una persona promueve el derecho a la educación. El texto de la pancarta dice 'LA EDUCACION NO ES UNO', lo que sugiere un enfoque en la educación pública o gratuita.
21                                                                                                                                                                                                                                                            AFP ASALTO LEGAL                                                                                                                                                                                                                                                                                                                                                                                                No specific symbols visible                                                                                                                                                 Multitudes y fuego                                                                                                                                                                                                         Una imagen de una protesta con carteles que dicen 'AFP ASALTO LEGAL' y 'El robo del Siglo NO + AFP' en presencia de un fuego.
22                                                                                                                                                                                                                                                              QUEREMOS ORDEN                                                                                                                                                                                                                                                                                                                                                                                                            No identificado                                                                                                                 Multitudes de protestantes con banderas y carteles                                                                                                                                                               Protesta en la ciudad con multitud de protestantes que sostienen carteles y banderas, uno de los carteles tiene un imagen de un líder y texto que dice 'QUEREMOS ORDEN'
23                                                                                                                                                                                                          Las otras luchas no tienen sentido si el planeta se va a la mierda                                                                                                                                                                                                                                                                                                                                                                                                           No identificados                                                                                                                                     Multitudes, presencia policial                                                                                                                                                                                                   Escena de protesta con participantes que sostienen carteles con mensajes en español, algunos con banderas o emblemas en la esquina.
24                                                                                                                                                                                                                                                 Yo rechazo al autoritarismo                                                                                                                                                                                                                                                                                                                                                                                         Estrella de la Republica Argentina                                                           Multitudes de personas participando en una protesta, con un individuo prominente al frente de la imagen.                                                                                                                                           Una imagen de una protesta en la que se observa un grupo de personas con una bandera y un cartel que dice 'Yo rechazo al autoritarismo'. El cielo está despejado y hay sombras en la pista.
25                                                                                                                                                                                                          Basta de Limpieza Neoligera, NUEVA CONSTITUCIÓN, OMOS FILVADOS YA!                                                                                                                                                                                                                                                                                                                                                                                                            No identificado                                                                                                                                     Multitudes, presencia policial                                                                                                                                   Un grupo de personas están participando en una protesta, algunos están portando carteles con mensajes de protesta. La imagen muestra una escena de un evento público con un grupo de manifestantes.
26                                                                                                                                                                                          El contenido de las pancartas es incoherente y no se puede predecir con precisión.                                                                                                                                                                                                                                                                                                                                                                No se pueden identificar símbolos específicos en la imagen.                                                                                Hay multitudes de personas en la imagen, posiblemente participantes en la protesta.                                                                                                                                                                                                               La imagen muestra una protesta en un área urbana nocturna con multitudes de personas y un pantalla con texto iluminado.
27                                                                                                                                                                                                                             LA HIRRADA QUE NOS DELATA A USTEDES LOS CONDENA                                                                                                                                                                                                                                                                                                                                                         No se identificaron símbolos específicos en el fondo de la imagen.                                                                                                 No se identificaron elementos adicionales relevantes en la imagen.                                                                                                      La imagen muestra un mural con un texto que parece ser una declaración política. El mural incluye una pintura de un ojo que parece estar soñando o lamentando, y el texto parece estar relacionado con una protesta o movimiento
28                                                                                                                                                                               No se puede identificar el texto en las pancartas debido a la alta resolución y la distancia.                                                                                                                                                                                                                                                                                                                                                              Se identifica un símbolo de bandera en la mano de la persona.                                                                                                   Se observa una multitud de personas participando en la protesta.                                                                                                                                                                       La imagen muestra una protesta en la que un individuo sostiene una bandera y lleva un cartel. La multitud está presente en el fondo, y el cielo está despejado.
29                                                                                                                                                                                                                                             ASAMBLEA CONSTITUYENTE AHORA!!!                                                                                                                                                                                                                                                                                                                                                                                                             #ENUNCIARPIENA                                                                                                                                                         multitudes                                                                                                                                         Una multitud de personas están reunidas en una protesta, con un miembro de la multitud llevando un cartel que dice 'ASAMBLEA CONSTITUYENTE AHORA!!!' y otro cartel que dice '#ENUNCIARPIENA'.
30                                                                                                                                                                                                                                                     Solo tenemos una tierra                                                                                                                                                                                                                                                                                                                                                                                                   Emoji del planeta Tierra                                                                                                                 Multitudes de protestantes con carteles y banderas                                                                                                                                                                                                            Una imagen de una protesta ambiental con un cartel promoviendo la protección del medio ambiente y la conciencia ambiental.
31                                                                                                                                                                                                                              En las calles queremos ser libres no valientes                                                                                                                                                                                                                                                                                                                                                  una bandera con colores multicolor y un símbolo que parece ser un corazón                                                                                                                 multitudes de personas participando en la protesta                                                                                                                                                                                                           Una protesta en las calles con una bandera multicolor y un cartel que dice 'En las calles queremos ser libres no valientes'
32                                                                                                                                                                                                                                BASTA de medios serios (TV, radio educación)                                                                                                                                                                                                                                                                                                                                                  No se pueden identificar símbolos específicos en la imagen proporcionada.                                                                                             Multitudes de personas estando en un acto de protesta o manifestación.                                                   La imagen muestra una protesta o manifestación en la que varias personas, incluyendo niños, están unidas en un acto de lucha o demanda. Un individuo prominente sostiene una pancarta que parece pedir medios serios de comunicación en español, posiblemente en relación con educa
33                                                                                                                                                                                                                                               ABAJO CONSTITUCIÓN PINOCHETÍA                                                                                                                                                                                                                                                                                                                                                                                                                          A                                                                                           Una multitud de personas que parecen estar participando en una protesta.                                                                       La imagen muestra una protesta en la que las personas han escrito 'ABAJO CONSTITUCIÓN PINOCHETÍA' en el suelo con una sustancia blanca. Hay una multitud de personas presentes, y el entorno parece estar en un área urbana con calles y edificios en el fondo.
34                                                                                                                                                                                                                                                       No Estamos En Guevara                                                                                                                                                                                                                                                                                                                                     Un símbolo que parece ser del fútbol, posiblemente del club 'Estudiantes de La Plata'.                                                                                   Multitudes de personas, incluyendo a un grupo en la parte inferior de la imagen.                                                                                             Una imagen de protesta en un campo de fútbol con varias personas. Un individuo en la frente lleva una cartela que dice 'No Estamos En Guevara' y otro símbolo que parece ser del fútbol, posiblemente del club 'Estudiantes de La Plata'.
35                                                                                                                                                                                                                                                           RESISTE CON KUTRO                                                                                                                                                                                                                                                                                                                                                                                         Un gato con bandana y una bandera.                                                                                                        Multitudes de personas con banderas y carteles en la pared.                                                                                                                                                                                                                Una imagen de una protesta con carteles y banderas, incluyendo uno que dice 'RESISTE CON KUTRO' y un gato con bandana.
36                                                                                                                                                                                                                                  En la Moneda se auto donan y se auto roban                                                                                                                                                                                                                                                                                                                                                                                                  Flags of Chile and France                                                                                                     Crowd of people, some holding flags, likely a protest or rally                                                                                                                                                                                                    A protest or rally with individuals holding signs and flags, specifically mentioning theft from the treasury in a monetary system.
37                                                                                                                                                                                                                           ME DIOS MAS MIEDO SALIR DEL CLOSET QUE A LA GALLE                                                                                                                                                                                                                                                                                                                                                               Un símbolo de la bandera de Chile es visible en la pancarta.                                                                    La imagen muestra una multitud de personas, posiblemente participando en una protesta o evento.                                                                                                                 La imagen muestra una protesta en la que un individuo sostiene una pancarta con un mensaje que parece ser una declaración de identidad o un llamado a la acción. La multitud parece estar unida en la causa o el mens
38                                                                                                                                                                                                                                 NUNCA SALGO A MARCHAR, PERO QUIERO LIBERTAD                                                                                                                                                                                                                                                                                                                                                                                                                    Ninguno                                                                                                         Una multitud de personas, posible presencia de policiales.                                                                                                                                                                                                    Una imagen de una protesta donde la multitud está saliendo de marchar, pero la marcha no ha terminado y se está pidiendo libertad.
39                                                                                                                                                                  CUANDO EL SISTEMA DE GESTION DE LA MEDICINA DEL PERSONAJE DE TRABAJO DEL ESTADO ESTÁ TENIENDO AMBIGUIDADS?                                                                                                                                                                                                                                                                                                                                                                                         Sí, hay un símbolo en la pancarta.                                                              Hay varias personas en el escenario, incluyendo dos que parecen estar sentadas en un lugar de espera.                                                                                                                                                                                                                   La imagen muestra una escena de protesta o manifestación con varias personas. Uno de los participantes sostiene una
40                                                                                                                                                                                                                                                        Emergencia climática                                                                                                                                                                                                                                                                                                                                                                                                    No simbolos observables                                                                                                                 Multitudes de protestantes con banderas y carteles                                                                                                                                                                                                                                                                      Protesta por emergencia climática con multitud de participantes.
41                                                                                                                                                                                                                     Pinera Sanmas Falgas que el Tumbe into tubo de mi Amiga                                                                                                                                                                                                                                                                                                                                                                                                               No presentes                                                                                                                   Multitudes de personas caminando y un cielo gris                                                                                                                                                                                                                                                                    Una escena de protesta con personas caminando y llevando carteles.
42                                                                                                                                                                                                   QUE DIRAEL SANTO PADREQUE VIVEYAROMA QUE LE ESTAN DEGOLLANDO ASIS PALOMAS                                                                                                                                                                                                                                                                                                                                                                                                          Bandera de España                                                                                      Multitudes de personas participando en una protesta, un paraguas y un cartel.                                                                                                                                                                                Una protesta en la que un grupo de personas está haciendo un llamado a Dios y a la Virgen a que no dejen morir las palomas en un contexto de protesta.
43                                                                                                                                                                                                                                                    NO MAS VIOLENCIA ESCOLAR                                                                                                                                                                                                                                                                                                                                                                                                         No symbols visible                                                                                       Multitudes de personas participando en la protesta, un palm tree en el fondo                                                                                                                                                                                 Una imagen de una protesta en la calle con varias personas, incluyendo a un hombre en el frente con una pancarta que dice 'NO MAS VIOLENCIA ESCOLAR'.
44                                                                                                                                                                                                                               UNA CONSTITUCIÓN QUE SUELE EL AGUA GREENPEACE                                                                                                                                                                                                                                                                                                                                                                                                                 GREENPEACE                                                                                                          Una persona con un manto y un signo que dice 'LA BLANCOS'                                                                                                                                                                                                                                   Una imagen de una protesta con una persona promoviendo la conservación del agua y la deforestación.
45                                                                                                                                                                                                                                            ERROR EN EL SISTEMA DE EDUCACIÓN                                                                                                                                                                                                                                                                                                                                                                                                                          X                                                                                                                                     Multitudes, presencia policial                                                          Un grupo de personas están caminando detrás de una barrera con una pancarta que dice 'ERROR EN EL SISTEMA DE EDUCACIÓN' y un símbolo de X. Hay multitudes en el fondo y un edificio con un campanario visible. La calidad de la imagen es baja y los detalles están sueltos.
46                                                                                                                                                                                                                                                                     RECHAZO                                                                                                                                                                                                                                                                                                                                                                                         [bandera, logotipo de la protesta]                                                                                                                                   [multitudes, presencia policial]                                                                                                                                                                                                                                       Una imagen de una protesta en la que se muestra una bandera y un cartel con el texto 'RECHAZO'.
47                                                                                                                                                                                                                                        Sin miedo, Renuncia PINERA Costumbre                                                                                                                                                                                                                                                                                                                                                                                                    No simbolos observables                                                                                                                Multitudes de personas participando en una protesta                                                                                                                                                                                                     Una imagen de una protesta con participantes en la calle, algunos de los cuales están mostrando carteles con mensajes en español.
48                                                                                                                                                                                                                                                   EL MERCURIO SIGUE MIENTEN                                                                                                                                                                                                                                                                                                                                                                                                                   Ningunos                                                                                                                                                           Ningunos                                                                                                                                                                                                                 Una pancarta en español con la frase 'EL MERCURIO SIGUE MIENTEN', probablemente en un contexto de protesta o reclamo.
49                                                                                                                                                                                                                                                            FARMACIA POPULAR                                                                                                                                                                                                                                                                                                                                                    No se pueden identificar símbolos específicos en el fondo de la imagen.                                              Multitudes de personas están caminando en la calle y un vehículo de la empresa 'Cuza Verde' está detrás de la tienda.                                                                                                                                                                      Una imagen de una protesta en la calle con multitudes de personas caminando y un vehículo de la empresa 'Cuza Verde' detrás de una tienda con carteles en pared.
50                                                                                                                                                                                                                                                  Por una nueva constitución                                                                                                                                                                                                                                                                                                                                                                                                   No Al Acuerdo Tributario                                                                                                                                                                 No                                                                                                         Un cartel de protesta en un cartel de dirección con el texto 'Por una nueva constitución' y 'No Al Acuerdo Tributario'. El cartel está en un contexto de dirección, posiblemente en un área urbana con edificios en el fondo.
51                                                                                                                                                                                      La alegría no llegó a los tumis que salir a buscar. Estamos en guerra. Estamos unidos!                                                                                                                                                                                                                                                                                                                                                                                                       No Estamos en guerra  Multitudes de personas participando en una protesta, some of whom are holding up signs. There are buildings in the background, and a person is wearing a bandana.                                                                                                                         La imagen muestra una protesta en la que varias personas están haciendo un llamado a la unidad y solidaridad, evitando el conflicto. Se ven dos carteles principales, uno que parece pedir alegría y otro que
52                                                                                                                                                                                                                                             NO+Represión al pueblo MAPUCHE!                                                                                                                                                                                                                                                                                                                                                                                                         [bandera, mapuche]                                                                                                                     Multitudes de personas con banderas y carteles                                                                                                                                                                             Una imagen de protesta con varias personas que sostienen banderas y carteles. El cartel más prominente dice 'NO+Represión al pueblo MAPUCHE!' en español.
53                                                                                                                                                                                                                                                                         N/A                                                                                                                                                                                                                                                                                                                                                                                                                        N/A                                                                                                                                                                N/A                                                                                                                                                                                                                                      Una imagen de una protesta con una banner que dice 'N/A EDUCACIÓN NO SEXUÁTICA A CONSTITUICIÓN'.
54                                                                                                                                                                                                                                                        MUJER VIDA LIBERTADA                                                                                                                                                                                                                                                                                                                                                                     No se identificaron símbolos específicos en la imagen.                                                                          Multitudes de personas caminando juntas, posible presencia de policiales en la periferia.                                                                                                                      Una imagen de una protesta con una gran cantidad de personas caminando por una calle urbana, llevando una bandera o carteles que dice 'MUJER VIDA LIBERTADA'. El cielo está nublado y hay edificios en el fondo.
55                                                                                                                                                                                                                Por reconociendo constitucional de los pueblos indigenas PTI                                                                                                                                                                                                                                                                                                                               Un símbolo de la paz, probablemente la cruz de San Andrés, presente en el centro del cartel.                                                                                                             Multitudes de personas, palmeras y un cielo desértico.                                                                                                                                                                                       Una imagen de una protesta con un cartel que pide reconocimiento constitucional de los pueblos indígenas, con multitudes de personas presentes.
56                                                                                                                                                                                                                             Hay plata para represión pero no para educación                                                                                                                                                                                                                                                                                                                                                                                     No se identifican símbolos específicos                                                                                                   Multitudes presentes, posible presencia de personal de seguridad                                                                                                                                                                    Imagen de una protesta en la que un individuo sostiene una pancarta que expresa una opinión sobre la distribución de recursos para fines de represión y educación.
57                                                                                                                                                                                                                        Machi celesta en Huelga de Hable que viene a su rewe                                                                                                                                                                                                                                                                                                                                                  No se pueden identificar símbolos específicos en la imagen proporcionada.                                                                                                                                     Multitudes, presencia policial                                       La imagen muestra una pancarta con texto en español que parece estar relacionado con una huelga o protesta. El texto es un saludo y parece ser un mensaje de apoyo a una persona o grupo. La pancarta está en un espacio público, posiblemente en una zona urbana, y hay multitudes y presencia
58                                                                                                                                                                                          LAS TIRAS DE JUGAR EXIEN EN EDUCACION DE CALIDAD... DE SALUD... CUMA A LA UNIVERCI                                                                                                                                                                                                                                                                                                    El símbolo de un corazón en un triángulo, probablemente representando la unión o el amor por las causas de la protesta.                                 Multitudes de personas, posiblemente participantes en la protesta, y un elemento de seguridad o autoridad con una pistola visible.                                                                                                                                                                                                                                                                Una protesta en la que las personas están pendiendo carteles que dicen
59                                                                                                                                                                                                                    Contra el pueblo es facil paco, milico trador y cobarde.                                                                                                                                                                                                                                                                                                                                                  No se pueden identificar símbolos específicos en la imagen proporcionada.                                                                                                               Multitudes de personas participando en una protesta.                                                                                                                   La imagen muestra una protesta con varias personas. Una de las personas está haciendo un gesto de grito con su mano mientras sostiene un cartel que dice 'Contra el pueblo es facil paco, milico trador y cobarde.'
60                                                                                                                                                                            Paro Nacional, ANEF - Unidad Social, ANEF - Unidad Oruguila, Paro Nacional, ANEF - Unidad Social                                                                                                                                                                                                                                                                                                                                                                                        Anef - Unidad Social, Paro Nacional                                                                                                                                     Multitudes, presencia policial                                                                                                                                                                                    Una imagen de un cartel de protesta que parece estar en contra de la ANEF - Unidad Social y la Unidad Oruguila, con el mensaje de 'Paro Nacional'.
61                                                                                                                                                                                                                                                                         ACA                                                                                                                                                                                                                                                                                                                                                                                                  Banderas, logotipo de ACA                                                                                              Multitudes de personas, un monumento en el centro, y un cielo nublado                                                                                                                                                                                                                    Una protesta con multitudes de personas en una plaza con un monumento en el centro y un cielo nublado en el fondo.
62                                                                                                                                                                                                                                                   NUEVA CONSTITUCIÓN e NADA                                                                                                                                                                                                                                                                                                                        Un símbolo que parece ser una bandera, posiblemente un símbolo de un partido o movimiento político.                                                   Una multitud de personas con un burla, un incendio en la distancia, y un individuo con un muralado en su rostro.                                                                                                                                                                    La imagen muestra una protesta con un grupo de personas, incluyendo un individuo que lleva un muralado en su rostro. Hay un incendio en la distancia y un burla en
63   La imagen muestra un texto en un cartel que parece estar pedir la protección de un derecho o un derecho en particular, posiblemente relacionado con la libertad o la autonomía. El texto es en español y parece ser un llamado a la acción o una declaración de derechos.                                                                                                                                                                                                                                                                                                                                                              No se ha identificado ningún símbolo específico en el cartel.                                           La imagen muestra una pared con un cartel, pero no se ha identificado la presencia de multitudes o elementos policiales.                                                                                                                                                                                                                                                                                                                          La imagen mu
64                                                                                                                                                                                                                                                  ABUELO MIRA CHILE DESPERTO                                                                                                                                                                                                                                                                                                                                                                     No se identificaron símbolos específicos en la imagen.                                                                 Un grupo de personas está presentes en la protesta, y hay estructuras arquitectónicas en el fondo.                                                                                                                                                                                                                           Una imagen de una protesta en la que un individuo sostiene un cartel que dice 'ABUELO MIRA CHILE DESPERTO'.
65                                                                                                                                                                                         La Inexperiencia y la soberbia no nos permiten avanzar respeto a la función pública                                                                                                                                                                                                                                                                                        [Estrella de Andalucía, Bandera de Andalucía, Bandera de España, Bandera de Andalucía con estrella, Bandera de España con estrella]                                                                                                               Multitudes de personas participando en una protesta.                                                                                                                                                                                                                                               Una protesta en la que las personas están pendiendo carteles con mensajes de protesta y
66                                                                                                                                                                                                                                      CUIDAR LOS GLACIAPES ES CUIDAR LA VIDA                                                                                                                                                                                                                                                                                                                                                                                                       No simbolos visibles                                                                                                                 Multitudes de protestantes con banderas y carteles                                                                                                                                                                                   Protesta por la protección de glaciares y su impacto en la vida en general. Se muestra un cartel que dice 'CUIDAR LOS GLACIAPES ES CUIDAR LA VIDA'.
67                                                                                                                                                                                                             No nos quedaremos sin hacer nada mientras queman nuestro futuro                                                                                                                                                                                                                                                                                                                                                                                            Símbolo de la bandera de España                                                                         Multitudes de personas participando en la protesta, un individuo con una bandera de España                                                                                                                                                                             Una imagen de una protesta con un cartel que dice 'No nos quedaremos sin hacer nada mientras queman nuestro futuro' y un símbolo de la bandera de España.
68                                                                                                                                                                                                                                       Vota Rechazo Hagamos Corta #YoRechazo                                                                                                                                                                                                                                                                                                                                                                                                         No visible symbols                                                                                                                                               Multitudes presentes                                                                                                                                                                                                                                                      Protesta en contra de la pena de muerte o similar, con un llamado a la votación.
69                                                                                                                                                                                                                                     El Gobierno se está haciendo la Vástima                                                                                                                                                                                                                                                                                                                                                                No se pueden identificar simbolos específicos en la imagen.                                                                                                            Hay multitudes de personas participando en la protesta.                                                                                                  Una imagen de una protesta en la que un individuo sostiene un cartel con un mensaje en español que parece ser una crítica al gobierno. Hay varias personas más en la imagen, lo que sugiere que es una protesta en un lugar público.
70                                                                                                                                                                                                                                                     Cuentas y acostumbrá tu                                                                                                                                                                                                                                                                                                                                                                                     No se identifican símbolos específicos                                                                                                                 No se identifican elementos adicionales relevantes                                                                                                                                                                                                                                                Una pared con texto y símbolos en un contexto que parece una protesta o manifestación.
71                                                                                                                                                                                                                                   Más miedo le tengo al Cae que a los Pacos                                                                                                                                                                                                                                                                                                                                                                                                      Tel: (56 65) 227 3040                                                                                                                                             Multitudes de personas                                                                                                                                                                                                                                                                     Escena de protesta con varias pancartas y multitudes de personas.
72                                                                                                                                                                                                                         Pinera esta mal, todo este maldito sistema esta mal                                                                                                                                                                                                                                                                                                                                                                              Un Simpsons character is visible on a banner.                                                                                                There are multiple individuals holding up signs, likely protesters.                                                                                           The image shows a protest scene with individuals holding up signs. One sign features a Simpsons character and the text suggests dissatisfaction with the current system, possibly a reference to a specific issue or entity named 'Pinera'.
73                                                                                                                                                                                                                  El texto en las pancartas es 'TERCERA EDAD POR UN FUTURO'.                                                                                                                                                                                                                                                                                                                                                                    Hay un símbolo de un globo en el centro de la pancarta.                                                                                                 La imagen muestra una multitud de personas con diversas pancartas.                                                                                                                                                                La imagen muestra una protesta en la que las personas están pidiendo un futuro mejor. Hay un cartel con un globo y otro con un mensaje de esperanza y un futuro mejor.
74                                                                                                                                                                                             Todos tenemos sangre mapuche, los pobres en las venas y los ricos en las manos.                                                                                                                                                                                                                                                                                                                                                                                                            Mapuche symbols                                                                                                            Two individuals holding a banner with a mapuche symbol.                                                                                                                                                                                    Two individuals holding a banner with a mapuche symbol, likely participating in a protest or demonstration related to indigenous rights or issues.
75                                                                                                                                                                                                                                        La historia te jucara piera dictador                                                                                                                                                                                                                                                                                                                                                                                                                          0                                                                                                                                                                  0                                                                                                                                                                          Una imagen de una pared con una frase escrita en espanol que parece ser una declaración o mensaje. La pared parece ser un lugar de protesta o manifestación.
76                                                                                                                                                                                                                                              QUIERO VER A MIS AMIAS EGRESAS                                                                                                                                                                                                                                                                                                                                                                No se pueden identificar símbolos específicos en la imagen.                                                                                                    Una multitud de personas participando en una protesta o marcha.                                                                                                                                                                                                              Una imagen de una protesta o marcha con varias personas, incluyendo un cartel que dice 'QUIERO VER A MIS AMIAS EGRESAS'.
77                                                                                                                                                                                                                                       SOMOS EL RÍO, RECORDANDOS PACOS JESÚS                                                                                                                                                                                                                                                                                                                                                                                                          Ningunos visibles                                                                                                                    No se observan multitudes ni presencia policial                                                                                                                                                                                                         Una imagen de un pared con letras rojas y negras que dice 'SOMOS EL RÍO, RECORDANDOS PACOS JESÚS' y 'PACOS JESÚS' en negrita.
78                                                                                                                                                                        NO + AFP NO + Juicio de Bellas Artes NO + HITOS de la Iglesia NO + Salud Mental NO + Idiota Pabellon                                                                                                                                                                                                                                                                                                                                                                                         No símbolos específicos observados                                                                                                          Multitudes de personas caminando y pendones en la marcha.                                                                                           La imagen muestra una protesta con un grupo de personas caminando en una calle. Uno de los participantes lleva una pancarta con mensajes negativos hacia varias instituciones y figuras públicas. El grupo parece estar en movimiento y dis
79                                                                                                                                                                                                                                                                    No Macos                                                                                                                                                                                                                                                                                                                                                                                                  No simbolos identificados                                                                                                                             No elementos adicionales identificados                                                                                                                                                     Una imagen de un edificio con pancartas escritas en español que parecen ser una declaración de no a algo, posiblemente relacionada con Macos, junto con un paseo urbano desolado.
80                                                                                                                                                                                                                                             Renuncia rápido trompae gualato                                                                                                                                                                                                                                                                                                                                                                     No se identificaron símbolos específicos en la imagen.                                               Multitudes de personas participando en una protesta, posible presencia de policiales en la periferia de la protesta.                                                                                                               La imagen muestra una protesta con un cartel en el que se solicita la renuncia rápida de trompae gualato. Las personas en la protesta parecen estar unidas por un sentimiento común de descontento o demanda de cambio.
81                                                                                                                                                                                                                                                          Tempos meus neores                                                                                                                                                                                                                                                                                                                                                                     No se identificaron símbolos específicos en la imagen.                                                                                                              Multitudes de personas, posible presencia de policía.  Una multitud de personas se une a una protesta, con un individuo prominente al frente que sostiene una cartela con la frase 'Tempos meus neores'. La imagen muestra un ambiente de activismo o manifestación, con la presencia de una estructura roja en la distancia y un individuo con una bandera en la parte superior izquierda.
82                                                                                                                                                                                                                                     La Alegración Nunca llegó en este Siglo                                                                                                                                                                                                                                                                                                                                                                                   No se identificaron símbolos específicos                                                                                                                    Multitudes de personas presentes en la protesta                                                                                                           La imagen muestra una protesta con multitudines de personas, un cartel prominente con la frase 'La Alegración Nunca llegó en este Siglo' y un retrato de una persona. El entorno muestra edificios urbanos en la distancia.
83                                                                                                                                                                                                                                      Pinera: 'Estamos en guerra el pueblo'.                                                                                                                                                                                                                                                                                                                                        Uno de los símbolos presentes es un gato blanco con ojos verdes y un cuello rosado.                                                                          La imagen muestra a una multitud de personas, posiblemente participantes en una protesta.                                                                                                                               La imagen muestra una protesta en la que una persona sostiene un cartel con la frase 'Pinera: 'Estamos en guerra el pueblo'. El cartel también tiene un gato blanco con ojos verdes y un cuello rosado.
84                                                                                                                                                                                                                                              DIGNIDAD BARA NIESTROS ABUELOS                                                                                                                                                                                                                                                                                                                                                                                  No se identificaron símbolos específicos.                                                            Multitudes de personas participando en una protesta, con un cielo gris y edificios en la zona de fondo.                                                                                                                                     Una imagen de una protesta en la que un individuo sostiene una cartela con la frase 'DIGNIDAD BARA NIESTROS ABUELOS'. La protesta parece estar en un área urbana con multitudes de participantes.
85                                                                                                                                                                                  Hermanos migrantes por una nueva y mejor sumate que proteja a los estamos unidos de abusos                                                                                                                                                                                                                                                                                                                                                                            Unas banderas están en la esquina de la imagen.                                                                                                               Una multitud de personas está presente en la imagen.                                                                                                                                                                                    Una imagen de una protesta con una pancarta que dice 'Hermanos migrantes por una nueva y mejor sumate que proteja a los estamos unidos de abusos'.
86                                                                                                                                                                                                                                   No se va a caer karen. ¡Lo vamos a tirar!                                                                                                                                                                                                                                                                                                                                                                               No se ve un símbolo específico en la imagen.                                                                                                                    Multitudes de personas con banderas y carteles.                                                                                                                                                                                       Una imagen de una protesta con un cartel que dice 'No se va a caer karen. ¡Lo vamos a tirar!' y multitudes de personas con banderas y carteles.
87                                                                                                                                                                                                                         El amor es amor. Y es tan grande que en un armario.                                                                                                                                                                                                                                                                                                                                                                          El armario es visible en el texto de la pancarta.                                                                                                                Multitudes de personas participando en la protesta.                                                                                                                                          La imagen muestra una protesta con varias personas uniéndose bajo un banner que dice 'El amor es amor. Y es tan grande que en un armario.' El armario es un símbolo de resistencia y unidad.
88                                                                                                                                                                                                                                        Por una huella que no sea de carbono                                                                                                                                                                                                                                                                                                                                                                No se pueden identificar símbolos específicos en la imagen.                                                                                                               Multitudes de personas participando en una protesta.                                                                                                                                                                                   Una imagen de una protesta con varias personas en un área urbana, incluyendo un cartel promocionando la huella de un vendedor de coches eléctricos.
89                                                                                                                                                                                                                                               TANTA CORROSIÓN ME DEJO NEGRO                                                                                                                                                                                                                                                                                                                                   Una bandera roja con un círculo blanco y un símbolo que parece una 'T' en un fondo rojo.                                                                                                      Multitudes de personas participando en una marcha o protesta.                                                                                                                                                                                   Una imagen de una protesta donde una persona lleva un cartel con la frase 'TANTA CORROSIÓN ME DEJO NEGRO' y una bandera roja con un símbolo de 'T'.
90                                                                                                                                                                                                                                                          NO S ESTÁN MATANDO                                                                                                                                                                                                                                                                                                                                                                                                                    Ninguno                                                                                                                                                            Ninguno                                                                                                                                                                                                     Imagen de una pared con el texto 'NO S ESTÁN MATANDO' pintado en rojo. El texto parece ser una declaración o mensaje de protesta.
91                                                                                                                                El contenido de las pancartas es un símbolo de un brazo en forma de fist, lo que a menudo se asocia con movimientos de protesta o activismo.                                                                                                                                                                                                                                                                                                                                     El símbolo es un fist, que es un emblema común en movimientos de protesta y activismo.                                                                                           No se pueden identificar elementos adicionales específicos en la imagen.                                                                                                                                                                                                        La imagen muestra una ciudad densamente poblada con edificios altos. En el centro de la imagen, se observa un mural con un sím
92                                                                                                                        Las pancartas están escritas en español y parecen estar haciendo una declaración o solicitud, posiblemente relacionada con un movimiento o protesta.                                                                                                                                                                                                                                                                      Existen varios símbolos en el escenario, incluyendo banderas y carteles, que suelen ser utilizados para representar un movimiento o causa específica.                                                      La imagen muestra una multitud de personas, lo que sugiere que se está haciendo una protesta o manifestación.                                                                                                                                                                                                                                    La imagen muestra una protesta o manifestación con varias personas, some of whom are holding signs
93                                                                                                                                                                                                                                                       No le teman al cambio                                                                                                                                                                                                                                                                                                                                                                                                       No simbolos visibles                                                                                                                                 Multitudes de personas en protesta                                                                                                                                                                                                          Una persona lleva una placa que dice 'No le teman al cambio' durante una protesta, con un ambiente de multitud en la ciudad.
94                                                                                                                                                                                                                                               Por Ti Táfa Gurti Y Tanna Zun                                                                                                                                                                                                                                                                                                                                                                                                      Bandera roja y blanca                                                                                                      Multitudes de personas participando en una marcha o protesta.                Una imagen de una marcha o protesta con varias personas participando. Uno de los participantes lleva un cartel que parece estar pedido por la igualdad o un derecho específico, mientras que otros participantes llevan banderas y otros elementos de vestimenta que pueden ser de su equipo o grupo de participación.
95                                                                                                                                                                                                                           Dónde están los tiempos mejores? PINERA RENUNCIAL                                                                                                                                                                                                                                                                                                                                                                     No se identificaron símbolos específicos en la imagen.                                                                                                    Unas personas están caminando en la calle detrás de la muestra.                                                                                                                                                                                                                                                                                Una persona con un cartel en una protesta en la calle.
96                                                                                                                                                                                                                Por mas urbana que sea tu vida tu cuerpo siempre dependa del                                                                                                                                                                                                                                                                                                                                                       Una pancarta con un símbolo de corazón y otra con un globo terrestre                                                                          Multitudes de personas participando en una protesta, algunos portando carteles y banderas                                                                                            Una imagen de una protesta en la que varias personas están portando carteles y banderas. Uno de los carteles muestra un corazón y otro un globo terrestre. La imagen parece ser un llamado a la preservación del medio ambiente y la conci
97                                                                                                                                                                                                                                       Alienígenas Unidos Nueva Constitución                                                                                                                                                                                                                                                                                                                    Una bandera con un diseño que parece ser la de un alienígena y un símbolo de un círculo con una flecha.                                                                    Una multitud de personas, algunos con banderas y otros con símbolos, y un edificio en el fondo.                                                                                                                                                                                                                              Una imagen de una protesta con una bandera y un cartel que dice 'Alienígenas Unidos Nueva Constitución'.
98                                                                                                                                                                                               ME MAMÍ ES LA MUJER QUE PICO ESTE DEJA SALIR DE LAS DESPUÉS DE LOS 2000 REBAS                                                                                                                                                                                                                                                                                                                                                 No se pueden identificar simbolos específicos en el párrafo proporcionado.                                                                                                      Una persona está caminando en la calle detrás de la pancarta.                                                                                                                                                                                 Una persona sostiene una pancarta en la calle con un mural en el fondo. El mural contiene texto que parece estar relacionado con un evento o protesta
99                                                                                                                                                                                                                                                     Todo es culpa de la PUC                                                                                                                                                                                                                                                                                                                                                                   Papeles de pancarta con símbolos de banderas y logotipos                                        Una multitud de personas que parecen estar en el frente de la protesta, y un vehículo con una bandera en la parte superior.                                                                                                                                           Una imagen de una puerta con la frase 'Todo es culpa de la PUC' pintada en ella, indicando una protesta o reclamación. El vehículo y la multitud parecen estar en el frente de la protesta.
100                                                                                                                                                                                                                                       NO PUEDES RECICLAR EL TIEMPO PERDIDO                                                                                                                                                                                                                                                                                                                                         No se identificaron símbolos específicos en el contenido visible de las pancartas.                                                                                                                Multitudes de personas participando en la protesta.                                                  La imagen muestra una protesta en la que varias personas están uniéndose para mostrar su descontento con alguna situación o política. Algunos de los participantes están portando carteles que parecen estar pedir la reciclación del tiempo perdido, lo que sugiere que la protesta
101                                                                                                                                                                                                                                                               Solo Heridos                                                                                                                                                                                                                                                                                                                                                                                                       2 símbolos de cruces                                                                                       Multitudes observadas en la entrada del lugar, posible presencia de policía.                                                                                                                                                                        Una escena de protesta en una calle con carteles y banderas que parecen estar en contra de las autoridades, con un ambiente tenso y posiblemente en conflicto.
102                                                                                                                                                                                                                                                             NO LIE DESPERO                                                                                                                                                                                                                                                                                                                                                              Un símbolo que parece una estrella en un contexto de protesta                                                                                   Multitudes de personas en un acto de protesta, un puente y edificios en el fondo                                                                                                                                                                                                                                Imagen de una protesta con multitudes, un puente y un cartel con un símbolo en el centro de la imagen.
103                                                                                                                                                                                                                                           NO A LA CONCENTRACIÓN DEL PUEBLO                                                                                                                                                                                                                                                                                                                                                                                                              Ampersand (&)                                                                                                                     Multitudes de protestantes, presencia policial                                                                                                                                              Protesta con banderas blancas, pancartas y carteles en un espacio público, con un grupo de personas que parecen estar haciendo una declaración en contra de la concentración del pueblo.
104                                                                                                                                                                                                                    Por mas urbana que sea tu cuerpo, siempre dependerá del                                                                                                                                                                                                                                                                                                                                                                                  Un símbolo de corazón y otro de la Tierra                                                     Multitudes de personas con banderas y carteles, some holding up a sign with a heart and the Earth drawn on it.                                                                 La imagen muestra una protesta con varias personas participando. Un individuo prominente sostiene un cartel que parece ser un llamado a la solidaridad entre la gente y el medio ambiente. La escena sugiere un movimiento social activo y posiblemente de conciencia
105                                                                                                                                                                                                                              ¿Que clase de loco asesina a su propia madre?                                                                                                                                                                                                                                                                                                                                                                  Emoji de la madre con un cabello verde y una cara triste.                                                                                                                Multitudes de personas participando en la protesta.                                                                                                                        Una imagen de una protesta con varias personas, incluyendo una woman con una pancarta que pregunta '¿Que clase de loco asesina a su propia madre?' y un emoji de la madre con cabello verde y una cara triste.
106                                                                                                                                                                                                                                                          ACAB NO AL TPP-11                                                                                                                                                                                                                                                                                                                                                                                                         No symbols visible                                                                                                                                     No additional elements visible                                                                                                                     The image shows a wall with graffiti that includes the phrases 'ACAB NO AL TPP-11' and 'NO AFP'. The graffiti is in red and blue colors. There are no other discernible elements or symbols present in the image.
107                                                                                                                                                                                                                                           QUEN FUERAQE PARA STAR SEMPREATO                                                                                                                                                                                                                                                                                                                                                  No se pueden identificar simbolos específicos en la imagen proporcionada.                                                                             No se pueden identificar elementos adicionales específicos en la imagen proporcionada.                                                                                                                                                 Una imagen de una pancarta que dice 'QUEN FUERAQE PARA STAR SEMPREATO' se encuentra en un ambiente de protesta, posiblemente en una plaza o área pública con estructuras en el fondo.
108                                                                                                                                                                                                                                             ASAMBLEA CONSTITUYENTE AHORA ?                                                                                                                                                                                                                                                                                                                                                                                                       No simbolos visibles                                                                                                                                             Multitudes de personas                                                                                                                                                                      Una imagen de una protesta con una pancarta que parece pedir a la Asamblea Constituyente que se reactive. Hay multitudes de personas y un teléfono en la imagen.
109                                                                                                                                                                                                              El cae me tiene tan endeudado que no les conviene dispersarme                                                                                                                                                                                                                                                                                                                                                                                                       No simbolos visibles                                                                                                                       Multitudes de personas, presencia de policía                                                                                                                                             Una imagen de una protesta donde un individuo sostiene una cartela que expresa descontento con su situación financiera y su deseo de evitar el aislamiento de las personas que lo rodean.
110                                                                                                                                                                                                                             AMIGUE DATE CUENTA Y ABORTAA A TU MACHINENTURA                                                                                                                                                                                                                                                                                                                                                                                  No se identificaron simbolos específicos.                                                                                                              No se identificaron elementos adicionales relevantes.                                                                                                                                                                            La imagen muestra una pancarta con un mensaje que parece ser un llamado a la solidaridad y apoyo a un lugar o causa, específicamente a una 'MACHINENTURA'.
111                                                                                                                                                                      No se puede identificar texto claro en las pancartas debido a la distancia y la calidad de la imagen.                                                                                                                                                                                                                                                                                                                           No se pueden identificar símbolos específicos a causa de la distancia y la calidad de la imagen.                                   Se observa una multitud de personas, posible presencia de elementos policiales, y un ambiente de protesta en un espacio público.                                                                                                                                                                                    Una imagen de una protesta en un espacio público con una multitud de personas. Un individuo central sostiene un cartel con una bandera y texto que
112                                                                                                                                                                                                                                      ¡SEGUIRE LUCHANDO SUMISXS NI CAGANDO!                                                                                                                                                                                                                                                                                                                                                                No se pueden identificar símbolos específicos en la imagen.                                                                                                                Multitudes de personas participando en la protesta.                                                                                                                                                                           Una imagen de una protesta con varias personas en la calle, incluyendo alguien que sostiene un cartel con la frase '¡SEGUIRE LUCHANDO SUMISXS NI CAGANDO!'.
113                                                                                                                                                                                                                                              Chile gobernado por corruptos                                                                                                                                                                                                                                                                                                                                                              No se pueden identificar símbolos específicos en la pancarta.                                                                                                                Multitudes de personas participando en la protesta.                                                                                                                                                    Una imagen de una protesta en la que una persona está llevando un cartel que expresa descontento con la gobernanza y corrupción, y se espera que las personas pierdan sus piercas.
114                                                                                                                                                                                                                                                     ESTO PARECE MISTADURA!                                                                                                                                                                                                                                                                                                                                                                                                       No simbolos visibles                                                                                                                       Multitudes de personas observando el evento.                                                                                                                                                 Una imagen de una protesta donde un individuo sostiene un cartel que dice 'ESTO PARECE MISTADURA!' con ilustraciones adicionales, incluyendo una caricatura de una persona y un gato.
115                                                                                                                                                                                                                                           Protesta por la paz en Palestina                                                                                                                                                                                                                                                                                                                                                                                                                  Palestina                                                                                                                                        Multitudes de manifestantes                                                                                                                                                                                                                   Una imagen de una protesta en la calle con participantes llevando carteles que dicen 'PALASTINA' y 'DAFTINA LIBRE'.
116                                                                                                                                                                                                                                                   LADRNALTO DEUDAS SEXISMO  Uno de los pancartas muestra un símbolo que parece ser un círculo con una línea vertical a través del centro y un símbolo que parece ser un triángulo con una línea horizontal a través del centro. Otra pancarta muestra un símbolo que parece ser un corazón con una línea horizontal a través del centro. Un tercero pancarta muestra un símbolo que parece ser un corazón con una línea vertical a través del centro.                                                                                                                                              La imagen muestra una                                                                                                                                                                                                                                                                                                                                   NaN
117                                                                                                                                                                                              Mama salá a defender mi patria sino mi fu'com. Regreso mi fu'com. LIMA. RATA.                                                                                                                                                                                                                                                                                                                                                            No se identificaron símbolos específicos en el fondo del pilar.                                                                                                              Multitudes, presencia policial y grafiti en el fondo.                                                                                                                                                              La imagen muestra una protesta con grafiti en el fondo y un cartel en el centro que dice 'Mama salá a defender mi patria sino mi fu'com. Regreso mi fu'com. LIMA. RATA.'
118                                                                                                                                                                                                                                                            FUERA! MONSANTO                                                                                                                                                                                                                                                                                                                                                                                                       No simbolos visibles                                                                                 Multitudes de personas con pancartas y camisetas, posible presencia de policiales.                                                                                                                                            Una imagen de una protesta en la que las personas están enfrentando un edificio, algunos con pancartas que dicen 'FUERA! MONSANTO' y 'MONSANTO NO TE QUEREMOS PRETENDEMOS UN MUNDO MEJOR'.
119                                                                                                                                                                                                                                         Tu indiferencia destruye mi futuro                                                                                                                                                                                                                                                                                                                                                               Un globo terrestre y un símbolo de un círculo con una flecha                                                                                                                     Multitudes de personas con carteles y banderas                                                                                                                                                                                  Una imagen de una protesta con muchas personas que sostienen carteles y banderas, incluyendo un cartel que dice 'Tu indiferencia destruye mi futuro'
120                                                                                                                                                                                                                              Hasta que valga la lata, vivir chile desperto                                                                                                                                                                                                                                                                                                                                                                                                         No visible symbols                                                                                                                 Multitudes de personas participando en la protesta                                                                                                                                                                                                                                         Una imagen de una protesta en la que una persona sostiene un cartel con una frase en español.
121                                                                                                                                                                                 No se puede identificar texto claramente en las pancartas debido a la lente distorsionada.                                                                                                                                                                                                                                                                                                                                             No se pueden identificar símbolos específicos debido a la lente distorsionada.                                                                                    No se pueden identificar elementos adicionales debido a la lente distorsionada.                                                                                                                                                                                                                                                               La imagen muestra una ciudad con edificios altos, iluminados por las lu
122                                                                                                                                                                                                                                               Yo no olvido, exijo justicia                                                                                                                                                                                                                                                                                                                                                                              Pancarta con texto en blanco sobre fondo azul                                                                               Multitud de personas con banderas y carteles, cielo azul y nubes blancas en el fondo                                                                                                                                                                                                                 Protesta en la calle con una multitud de personas con banderas y carteles, un cielo azul y nubes blancas en el fondo.
123                                                                                                                                                                                                                          NUNCA SUMISX ANTE EL ELEGADO ASESINO Y REPLESO!!!                                                                                                                                                                                                                                                                                                                                                                                                       No simbolos visibles                                                  Multitudes de personas participando en una protesta, elementos de seguridad policial no visibles, cielo despejado                                                                                                                                             Escena de protesta en la que una persona sostiene una cartela con un mensaje en contra de la violencia y el asesinato, con multitudes de participantes y presencia de seguridad policial.
124                                                                                                                                                                                                                                                            ESTA ES MI ARMA                                                                                                                                                                                                                                                                                                                                                                                                 Un cañón estrella y grieta                                                                                                   Multitudes de personas con banderas y un cañón estrella y grieta                                                                                                                                                                                                           Una imagen de una protesta con multitudes de personas, un cañón estrella y grieta y un personaje con una máscara de guerra.
Word Embedding
image.png

image.png


[ ]
import re
import numpy as np
import pandas as pd
from sklearn.metrics.pairwise import cosine_similarity
import gensim.downloader as api

# Cargar el modelo preentrenado
model = api.load('word2vec-google-news-300')
[==================================================] 100.0% 1662.8/1662.8MB downloaded

[ ]
# Definir palabras relacionadas para cada tópico en español
topics = {
    'Salud': 'salud medicina hospital doctor enfermera enfermedad bienestar atención médica pandemia',
    'Economía': 'economía dinero finanzas comercio negocios mercado inversión desigualdad pobreza empleo',
    'Seguridad': 'seguridad protección policía crimen defensa ley represión violencia criminalidad',
    'Educación': 'educación escuela universidad profesor estudiante aprendizaje clase protesta reforma',
    'Social': 'social comunidad sociedad bienestar derechos igualdad equidad justicia inclusión',
    'Medioambiente': 'medioambiente naturaleza clima contaminación sostenibilidad ecosistema verde crisis hídrica ecología'
}

# Definir textos representativos para cada categoría política
prototypes_political = {
    -3: "revolución anti-capitalismo igualdad extrema anti-neoliberalismo cambio radical",
    -2: "justicia social derechos laborales anti-neoliberalismo igualdad de género redistribución",
    -1: "derechos humanos justicia social progresismo feminismo inclusión diversidad",
    0: "moderación equilibrio diálogo político centro pragmatismo",
    1: "desarrollo económico estabilidad libre mercado reforma gradual emprendimiento",
    2: "seguridad orden crecimiento económico conservadurismo tradición",
    3: "nacionalismo anti-inmigración autoritarismo ley y orden soberanía"
}

[ ]
# Función de preprocesamiento de texto
def preprocess_text(text):
    if pd.isnull(text):
        return ""
    text = text.lower()
    text = re.sub(r'\W', ' ', text)
    text = re.sub(r'\s+', ' ', text)
    return text.strip()

# Supongamos que df ya está definido con las columnas mencionadas
# Asegurar que las columnas sean de tipo string y rellenar NaNs con cadenas vacías
df['contenido_pancartas'] = df['contenido_pancartas'].astype(str).fillna('')
df['elementos_adicionales'] = df['elementos_adicionales'].astype(str).fillna('')
df['descripcion_general'] = df['descripcion_general'].astype(str).fillna('')

# Concatenar el contenido de pancartas, elementos adicionales y descripción general
df['contenido_completo'] = df['contenido_pancartas'] + ' ' + df['elementos_adicionales'] + ' ' + df['descripcion_general']

# Preprocesar las columnas 'contenido_completo' y 'contenido_pancartas'
df['contenido_completo_procesado'] = df['contenido_completo'].apply(preprocess_text)
df['contenido_pancartas_procesado'] = df['contenido_pancartas'].apply(preprocess_text)

# Verificar la creación de las columnas
print(df.head())

                          contenido_pancartas  \
0                             Hile no deserto   
1  Hismaa Jyoti Geenarama Meer elo Presidente   
2     Todo niño tiene derecho a un país digno   
3                 Bienvenido a CORA del Norte   
4    monte a la madre mama meter HUASO CULIAR   

                                            simbolos  \
0                                Banderas y banderas   
1  Símbolos de protesta incluyen banderas y carte...   
2  No se identifican símbolos específicos en el p...   
3                                   No identificados   
4                    bandera con un cráneo y cuernos   

                               elementos_adicionales  \
0                         Multitudes de protestantes   
1  Una multitud de personas está presente, alguno...   
2  Multitudes de personas participando en la prot...   
3                     Multitudes, presencia policial   
4     multitudes de personas con banderas y carteles   

                                 descripcion_general  \
0  Protesta con banderas y banners en contra de l...   
1  La imagen muestra una protesta con una varieda...   
2  Una imagen de una protesta con un participante...   
3  Una persona lleva un cartel que dice 'Bienveni...   
4  La imagen muestra una protesta con varios part...   

                                  contenido_completo  \
0  Hile no deserto Multitudes de protestantes Pro...   
1  Hismaa Jyoti Geenarama Meer elo Presidente Una...   
2  Todo niño tiene derecho a un país digno Multit...   
3  Bienvenido a CORA del Norte Multitudes, presen...   
4  monte a la madre mama meter HUASO CULIAR multi...   

                        contenido_completo_procesado  \
0  hile no deserto multitudes de protestantes pro...   
1  hismaa jyoti geenarama meer elo presidente una...   
2  todo niño tiene derecho a un país digno multit...   
3  bienvenido a cora del norte multitudes presenc...   
4  monte a la madre mama meter huaso culiar multi...   

                contenido_pancartas_procesado  
0                             hile no deserto  
1  hismaa jyoti geenarama meer elo presidente  
2     todo niño tiene derecho a un país digno  
3                 bienvenido a cora del norte  
4    monte a la madre mama meter huaso culiar  

[ ]
# Función para obtener embeddings
def get_embeddings(text, model):
    words = text.split()
    word_vectors = [model[word] for word in words if word in model]
    if word_vectors:
        return np.mean(word_vectors, axis=0)
    else:
        return np.zeros(model.vector_size)

# Obtener los embeddings para las columnas procesadas
df['embedding_completo'] = df['contenido_completo_procesado'].apply(lambda x: get_embeddings(x, model))
df['embedding_pancartas'] = df['contenido_pancartas_procesado'].apply(lambda x: get_embeddings(x, model))

# Obtener embeddings para cada prototipo de tópico
prototype_embeddings_topics = {topic: get_embeddings(words, model) for topic, words in topics.items()}

# Obtener embeddings para cada prototipo político
prototype_embeddings_political = {category: get_embeddings(text, model) for category, text in prototypes_political.items()}

[ ]
# Función para clasificar basado en similitud coseno
def classify_embedding(text_embedding, prototypes):
    max_similarity = -1
    assigned_category = None
    for category, prototype_embedding in prototypes.items():
        similarity = cosine_similarity([text_embedding], [prototype_embedding])[0][0]
        if similarity > max_similarity:
            max_similarity = similarity
            assigned_category = category
    return assigned_category

# Asignar tópicos a cada texto basado en 'embedding_completo'
df['topico_principal_completo'] = df['embedding_completo'].apply(lambda x: classify_embedding(x, prototype_embeddings_topics))

# Asignar bando político a cada texto basado en 'embedding_pancartas'
df['bando_politico'] = df['embedding_pancartas'].apply(lambda x: classify_embedding(x, prototype_embeddings_political))
Data Frame
image.png

image.png


[ ]
# Mostrar el resultado final con las columnas relevantes
df_result = df[['contenido_pancartas', 'topico_principal_completo', 'bando_politico', 'simbolos', 'elementos_adicionales', 'descripcion_general']]
allowed_topics = ['Salud', 'Economía', 'Seguridad', 'Educación', 'Social', 'Medioambiente']
df_result = df_result[df_result['topico_principal_completo'].isin(allowed_topics)]

# Mostrar el DataFrame resultante
df_result


[ ]
# Ruta del archivo zip y listar archivos de imagen
extract_dir = '/content/images'
image_files = os.listdir(extract_dir)

df_result['image_name'] = image_files[:len(df_result)]

# Mostrar el DataFrame resultante
df_result

Grafo por Pyvis
image.png

image.png


[ ]
!pip install pyvis --quiet
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 756.0/756.0 kB 6.8 MB/s eta 0:00:00
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.6/1.6 MB 12.0 MB/s eta 0:00:00

[ ]
import os
import pandas as pd
from pyvis.network import Network
from IPython.core.display import display, HTML

# Convertir las columnas necesarias a cadenas para asegurar la consistencia del tipo de datos
df_result['topico_principal_completo'] = df_result['topico_principal_completo'].astype(str)
df_result['bando_politico'] = df_result['bando_politico'].astype(str)

# Filtrar para considerar solo los tópicos especificados
allowed_topics = ['Salud', 'Economía', 'Seguridad', 'Educación', 'Social', 'Medioambiente']
df_result = df_result[df_result['topico_principal_completo'].isin(allowed_topics)]

# Crear un objeto Network de Pyvis
net = Network(notebook=True, height='750px', width='100%', bgcolor='#ffffff', font_color='black', cdn_resources='in_line')

# Añadir nodo central para "Análisis de Marchas"
central_node_id = "analisis_marchas"
net.add_node(central_node_id, label="Análisis de Marchas", shape='star', size=50, color='red')

# Asignar colores a cada bando político
colors = {
    '-3': 'darkred',
    '-2': 'red',
    '-1': 'orange',
    '0': 'yellow',
    '1': 'lightgreen',
    '2': 'green',
    '3': 'darkgreen'
}


# Añadir nodos principales para las pancartas con imágenes locales
pancartas_nodes = {}
for index, row in df_result.iterrows():
    pancarta_id = f"pancarta_{index}"
    title = f"""
    Contenido: {row['contenido_pancartas']}
    Símbolos: {row['simbolos']}
    Elementos Adicionales: {row['elementos_adicionales']}
    Descripción General: {row['descripcion_general']}
    Tópico: {row['topico_principal_completo']}
    """
    net.add_node(pancarta_id, label=f"Pancarta {index}", title=title, shape='box', size=20)
    pancartas_nodes[index] = pancarta_id

# Añadir nodos únicos para los bandos políticos y conectarlos al nodo central
bando_politico_nodes = {}
for bando in df_result['bando_politico'].unique():
    bando_id = f"bando_{bando}"
    color = colors.get(bando, 'blue')
    net.add_node(bando_id, label=f"Bando {bando}", shape='ellipse', size=30, color=color)
    net.add_edge(central_node_id, bando_id)
    bando_politico_nodes[bando] = bando_id

# Conectar pancartas a los bandos políticos
for index, row in df_result.iterrows():
    pancarta_id = pancartas_nodes[index]
    bando_id = bando_politico_nodes[row['bando_politico']]
    net.add_edge(pancarta_id, bando_id)

# Añadir nodos para los tópicos permitidos y conectarlos a los bandos políticos
topicos_nodes = {}
for topico in allowed_topics:
    for bando in df_result['bando_politico'].unique():
        topico_id = f"topico_{topico}_{bando}"
        if topico_id not in topicos_nodes:
            net.add_node(topico_id, label=topico, shape='dot', color='green')
            topicos_nodes[topico_id] = topico_id
        net.add_edge(bando_politico_nodes[bando], topico_id)

# Conectar imágenes a los tópicos correspondientes
for index, row in df_result.iterrows():
    pancarta_id = pancartas_nodes[index]
    topico_id = f"topico_{row['topico_principal_completo']}_{row['bando_politico']}"
    net.add_edge(pancarta_id, topico_id)

# Configurar y mostrar la visualización
net.show_buttons(filter_=['nodes', 'edges', 'physics'])
net.show("political_topics_graph.html")

# Mostrar el HTML generado en Jupyter Notebook / Google Colab
display(HTML("political_topics_graph.html"))

image.png

